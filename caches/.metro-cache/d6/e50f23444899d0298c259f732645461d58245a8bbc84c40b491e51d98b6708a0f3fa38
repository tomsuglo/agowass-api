{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"]}},{"name":"./supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":26},"end":{"line":2,"column":38,"index":64}}],"key":"nombsjMCzh8A1aWqTxUa62QcPc0=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getStudentPhoto = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _supabase = require(_dependencyMap[2], \"./supabase\");\n  // utils/studentPhoto.js\n\n  var getStudentPhoto = exports.getStudentPhoto = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2.default)(function* (studentId) {\n      try {\n        var filePath = `students/${studentId}.jpg`; // path inside bucket\n        var _supabase$storage$fro = _supabase.supabase.storage.from(\"uploads\") // ðŸ‘ˆ your bucket name\n          .getPublicUrl(filePath),\n          data = _supabase$storage$fro.data,\n          error = _supabase$storage$fro.error;\n        if (error) {\n          console.error(\"Error fetching photo URL:\", error.message);\n          return null;\n        }\n\n        // return public URL\n        return data.publicUrl;\n      } catch (err) {\n        console.error(\"Unexpected error:\", err);\n        return null;\n      }\n    });\n    return function getStudentPhoto(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n});","lineCount":35,"map":[[8,2,2,0],[8,6,2,0,"_supabase"],[8,15,2,0],[8,18,2,0,"require"],[8,25,2,0],[8,26,2,0,"_dependencyMap"],[8,40,2,0],[9,2,1,0],[11,2,4,7],[11,6,4,13,"getStudentPhoto"],[11,21,4,28],[11,24,4,28,"exports"],[11,31,4,28],[11,32,4,28,"getStudentPhoto"],[11,47,4,28],[12,4,4,28],[12,8,4,28,"_ref"],[12,12,4,28],[12,19,4,28,"_asyncToGenerator2"],[12,37,4,28],[12,38,4,28,"default"],[12,45,4,28],[12,47,4,31],[12,58,4,38,"studentId"],[12,67,4,47],[12,69,4,52],[13,6,5,2],[13,10,5,6],[14,8,6,4],[14,12,6,10,"filePath"],[14,20,6,18],[14,23,6,21],[14,35,6,33,"studentId"],[14,44,6,42],[14,50,6,48],[14,51,6,49],[14,52,6,50],[15,8,7,4],[15,12,7,4,"_supabase$storage$fro"],[15,33,7,4],[15,36,7,28,"supabase"],[15,54,7,36],[15,55,7,37,"storage"],[15,62,7,44],[15,63,8,7,"from"],[15,67,8,11],[15,68,8,12],[15,77,8,21],[15,78,8,22],[15,79,8,23],[16,10,8,23],[16,11,9,7,"getPublicUrl"],[16,23,9,19],[16,24,9,20,"filePath"],[16,32,9,28],[16,33,9,29],[17,10,7,12,"data"],[17,14,7,16],[17,17,7,16,"_supabase$storage$fro"],[17,38,7,16],[17,39,7,12,"data"],[17,43,7,16],[18,10,7,18,"error"],[18,15,7,23],[18,18,7,23,"_supabase$storage$fro"],[18,39,7,23],[18,40,7,18,"error"],[18,45,7,23],[19,8,11,4],[19,12,11,8,"error"],[19,17,11,13],[19,19,11,15],[20,10,12,6,"console"],[20,17,12,13],[20,18,12,14,"error"],[20,23,12,19],[20,24,12,20],[20,51,12,47],[20,53,12,49,"error"],[20,58,12,54],[20,59,12,55,"message"],[20,66,12,62],[20,67,12,63],[21,10,13,6],[21,17,13,13],[21,21,13,17],[22,8,14,4],[24,8,16,4],[25,8,17,4],[25,15,17,11,"data"],[25,19,17,15],[25,20,17,16,"publicUrl"],[25,29,17,25],[26,6,18,2],[26,7,18,3],[26,8,18,4],[26,15,18,11,"err"],[26,18,18,14],[26,20,18,16],[27,8,19,4,"console"],[27,15,19,11],[27,16,19,12,"error"],[27,21,19,17],[27,22,19,18],[27,41,19,37],[27,43,19,39,"err"],[27,46,19,42],[27,47,19,43],[28,8,20,4],[28,15,20,11],[28,19,20,15],[29,6,21,2],[30,4,22,0],[30,5,22,1],[31,4,22,1],[31,20,4,13,"getStudentPhoto"],[31,35,4,28,"getStudentPhoto"],[31,36,4,28,"_x"],[31,38,4,28],[32,6,4,28],[32,13,4,28,"_ref"],[32,17,4,28],[32,18,4,28,"apply"],[32,23,4,28],[32,30,4,28,"arguments"],[32,39,4,28],[33,4,4,28],[34,2,4,28],[34,5,22,1],[35,0,22,2],[35,3]],"functionMap":{"names":["<global>","getStudentPhoto"],"mappings":"AAA;+BCG;CDkB"}},"type":"js/module"}]}